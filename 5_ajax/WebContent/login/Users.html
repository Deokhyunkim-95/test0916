<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
</script>
<style type="text/css">
	.error{
		color : red;
	}
</style>
<script type="text/javascript">
	
$(function() {
	
	$('#id_check').click(function (){
			idcheck();
	});
});

function idcheck(){
		$.ajax({
			
			url : 'id_check.jsp',
			type : 'get',
			data : {id: $('#id').val()},
			dataType:'json',
			
			success : function(data){
				//xdata=data;
				//alert("success"+data.id);
				
				if(data.id == undefined){
					alert("사용가능한 ID입니다.")
					$('#msg1').html("사용가능한 ID입니다.")
					
				}else{
					alert("사용중인 ID입니다.")
					$('#msg1').html("사용중인 ID입니다.")
				}
				
			}
			,error: function(error) {
				alert("데이터가 넘어 오지 않았습니다.")
			}
		});
	};


</script>
<title>Users log in 정보</title>
</head>
<body>
	<h3>Users log in 정보</h3>
<form action = "adduser.jsp" method="get">
	<table border = "1">
		<tr>
			<td> <label for ="id"> ID </label> </td>
			<td> <input type ="text" id = "id" name="id" value ="" />
				<input type="button" id = "id_check" name = "check" value="중복체크"/>
				<br>
				<span id="msg1" class="error"> </span>
		</tr>		
		<tr>
			<td> <label for ="pw"> PW </label> </td>
			<td> <input type ="password" id = "pw" name="pw" value ="" /> </td>
		</tr>		
		<tr>
			<td> <label for ="name"> NAME </label> </td>
			<td> <input type ="text" id = "name" name="name" value ="" /> </td>
		</tr>		
		<tr>
			<td> <label for ="role"> ROLE </label> </td>
			<td> <input type ="radio" id = "role" name="role" value ="admin" /> admin
				 <input type ="radio" name="role" value ="user" /> user	
			</td>
		</tr>		
		<tr>
			<td colspan = "2">
				<input type = "submit" value = "회원가입">			
				<input type = "reset" value = "취소">		
			</td>
		</tr>		
	</table>
</form>
	
</body>
</html>